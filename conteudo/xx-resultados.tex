%!TeX root=../tese.tex
%("dica" para o editor de texto: este arquivo Ã© parte de um documento maior)
% para saber mais: https://tex.stackexchange.com/q/78101

\chapter{Evaluation}
\label{chap:evaluation}

To find out whether the ontology saturation process introduced produces a viable result, we compared the results obtained by applying the optimal repair approach from \citep{Baader-CADE2021} with the results from the partial meet contraction operation from \citep{Matos2021} after a saturation.

\section{Scenario \#1: Empty TBox and non-empty ABox}
\label{sec:scenario-1}

Given the ontology $\mathcal{O}$ represented by an empty TBox $\mathcal{T}$ and the ABox $\mathcal{A}$,

\begin{equation*}
    \begin{aligned}
        \mathcal{A} = \{ & Politician(Albert),  \\
                         & Businessman(Albert), \\
                         & Politician(Bob),     \\
                         & Businessman(Bob),    \\
                         & related(Albert, Bob) \}
    \end{aligned}
\end{equation*}

and the repair request $\mathcal{R}$,

$$\mathcal{R} = \{\exists related.(Politician \sqcap Businessman)(Albert) \}$$

the optimal repair computed is the qABox denoted by

\begin{equation*}
    \begin{aligned}
        \exists X.\mathcal{A} = \exists \{ x, y \}.\{ & Politician(Albert),  \\
                                                      & Businessman(Albert), \\
                                                      & Politician(Bob),     \\
                                                      & Businessman(Bob),    \\ 
                                                      & Politician(x),       \\
                                                      & Businessman(y),      \\
                                                      & related(Albert, x)   \\
                                                      & related(Albert, y)   \}
    \end{aligned}
\end{equation*}

Now, to compute the partial meet contraction operation, we first need to saturate the ontology w.r.t. the ABox $\mathcal{A}$, which will result at the following:

\begin{equation*}
    \begin{aligned}
        sat(\mathcal{O}) = \{ & Politician(Albert),   \\
                              & Businessman(Albert),  \\
                              & Politician(Bob),      \\
                              & Businessman(Bob),     \\
                              & related(Albert, Bob), \\ 
                              & \exists related.Politician(Albert), \\
                              & \exists related.Businessman(Albert) \}
    \end{aligned}
\end{equation*}

Finally, applying the partial meet contraction at $sat(\mathcal{O})$ results:

\begin{equation*}
    \begin{aligned}
        \mathcal{O} = \{ & Politician(Albert),   \\
                         & Businessman(Albert),  \\
                         & Politician(Bob),      \\
                         & Businessman(Bob),     \\
                         & \exists related.Politician(Albert), \\
                         & \exists related.Businessman(Albert) \}
    \end{aligned}
\end{equation*}

\section{Scenario \#2: Sample JELIA 23}
\label{sec:scenario-2}
Let $\mathcal{O} = \mathcal{T} \cup \mathcal{A}$ be an ontology such that $\mathcal{T} = \emptyset$ and $\mathcal{A}$,

\begin{equation*}
    \begin{aligned}
        \mathcal{A} = \{ Vain(Narcissus), loves(Narcissus, Narcissus) \}
    \end{aligned}
\end{equation*}

Given the repair request $\mathcal{R}$,

$$\mathcal{R} = \{ Vain(Narcissus) \}$$

there is no finite $\mathcal{EL}$ ABox that is an optimal repair. However, an optimal repair can be obtained by using a more general notion of ABoxes, the quantified ABoxes:

\begin{equation*}
    \begin{aligned}
        \exists X.\mathcal{A} = \exists \{ x \}.\{ & loves(Narcissus, Narcissus),  \\
                                                   & loves(Narcissus, x),          \\
                                                   & loves(x, Narcissus),          \\
                                                   & loves(x, x),                  \\ 
                                                   & Vain(x) \}
    \end{aligned}
\end{equation*}

Now, to compute the partial meet contraction operation, we first need to saturate the ontology w.r.t. the ABox $\mathcal{A}$, which will result at:

\begin{equation*}
    \begin{aligned}
        sat(\mathcal{O}) = \{ Vain(Narcissus), loves(Narcissus, Narcissus), \exists loves.Vain(Narcissus) \}
    \end{aligned}
\end{equation*}

Finally, applying the partial meet contraction at the saturated ontology results

\begin{equation*}
    \begin{aligned}
        \mathcal{O} = \{ loves(Narcissus, Narcissus), \exists loves.Vain(Narcissus) \}
    \end{aligned}
\end{equation*}

\section{Scenario \#3: A sample of a saturation of an ontology with cycle}
\label{sec:scenario-3}

Given the ontology $\mathcal{O}$,

\begin{equation*}
    \begin{aligned}
        \mathcal{O} = \{ & Politician(Albert),     \\
                         & Businessman(Albert),    \\
                         & Politician(Bob),        \\
                         & Businessman(Bob),       \\
                         & Ambassador(Charlie),    \\
                         & related(Albert, Bob),   \\
                         & related(Bob, Charlie),  \\ 
                         & friend(Charlie, Albert) \}
    \end{aligned}
\end{equation*}

the saturation of $\mathcal{O}$ is,

\begin{equation*}
    \begin{aligned}
        sat(\mathcal{O}) = \{ & Politician(Albert),      \\
                              & Businessman(Albert),     \\
                              & Politician(Bob),         \\
                              & Businessman(Bob),        \\
                              & Ambassador(Charlie),     \\
                              & related(Albert, Bob),    \\
                              & related(Bob, Charlie),   \\ 
                              & friend(Charlie, Albert), \\
                              & \exists related.Politician(Albert),  \\
                              & \exists related.Businessman(Albert), \\
                              & \exists related.(\exists friend.Politician)(Albert),  \\
                              & \exists related.(\exists friend.Businessman)(Albert), \\
                              & \exists related.(\exists friend.Ambassador)(Albert),  \\
                              & \exists related.(\exists friend.(\exists friend.Politician))(Albert),  \\
                              & \exists related.(\exists friend.(\exists friend.Businessman))(Albert), \\
                              & \exists friend.Ambassador(Bob), \\
                              & \exists friend.(\exists friend.Politician)(Bob),  \\
                              & \exists friend.(\exists friend.Businessman)(Bob), \\
                              & \exists friend.Politician(Charlie), \\
                              & \exists friend.Businessman(Charlie) \} 
    \end{aligned}
\end{equation*}

\section{Scenario \#4: ---}
\label{sec:scenario-4}

% \begin{table}[]
%     \setlength{\extrarowheight}{7pt}
%     \begin{tabular}{ll}
%         \hline
%         \multicolumn{2}{l}{\textbf{Example 01}: Politicians and businessman ontology}          \\ 
%         \hline
%         \texttt{1}. & \texttt{Politician(Albert)}  \\ 
%         \texttt{2}. & \texttt{Businessman(Albert)} \\
%         \texttt{3}. & \texttt{Politician(Bob)}  \\ 
%         \texttt{4}. & \texttt{Businessman(Bob)} \\
%         \texttt{5}. & \texttt{related(Albert, Bob)} \\
%         \hline
%     \end{tabular}
% \end{table}

% P(a)
% B(a)

% P(b)
% B(b)

% F(c)

% r(a,b)
% r(b,c)

% exists r.P
% exists r.B
% exists r.F

% exists r.(exists r.F)(a)

% a -r-> P(b) -t-> F(c)
